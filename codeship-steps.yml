---
- type: serial
  service: builder
  steps:
  - name: Setup InfluxDB
    command: go run cmd/influxdb/create_database.go
  - name: Generate code, run tests & publish code coverage
    command: make generate unittest coveralls
  - name: Build Executable
    command: make generate build

- type: push
  service: app
  image_name:  declanshanaghy/bbqberry
  encrypted_dockercfg_path: dockercfg.json.encrypted
